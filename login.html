<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login â€“ Water Monitoring System</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

    body {
      background: #121823;
      color: #e0e0e0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* â”€â”€ Top Bar â”€â”€ */
    .topbar {
      background: #1b263b;
      color: #ffcc00;
      padding: 10px 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .topbar h1 { font-size: 20px; font-weight: 700; }
    .clock { font-weight: 600; font-size: 16px; color: #ffffff; }

    /* â”€â”€ Login Container â”€â”€ */
    .login-wrapper {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 30px 15px;
    }

    .login-card {
      background: #1e2736;
      border-radius: 14px;
      padding: 40px 36px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .login-icon {
      text-align: center;
      font-size: 48px;
      margin-bottom: 10px;
    }

    .login-card h2 {
      text-align: center;
      color: #ffcc00;
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .login-card p.subtitle {
      text-align: center;
      color: #aaa;
      font-size: 13px;
      margin-bottom: 28px;
    }

    label {
      font-size: 13px;
      color: #aaa;
      margin-top: 6px;
      display: block;
    }

    input {
      display: block;
      width: 100%;
      padding: 11px 13px;
      margin: 6px 0 14px;
      border: 1px solid #444;
      border-radius: 6px;
      font-size: 14px;
      background: #1c1f2b;
      color: #e0e0e0;
      transition: border-color 0.2s;
    }
    input:focus { border-color: #ffcc00; outline: none; }

    .btn-login {
      width: 100%;
      padding: 12px;
      background: #ffcc00;
      color: #1b263b;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 6px;
      transition: background 0.2s, transform 0.1s;
    }
    .btn-login:hover { background: #ffe066; transform: translateY(-1px); }
    .btn-login:active { transform: translateY(0); }

    .login-error {
      margin-top: 14px;
      color: #ff8080;
      font-size: 13px;
      font-weight: 600;
      background: rgba(255,77,77,0.1);
      padding: 9px 13px;
      border-radius: 6px;
      border-left: 3px solid #ff4d4d;
      display: none;
    }
    .login-error.show { display: block; }

    .login-hint {
      margin-top: 18px;
      text-align: center;
      font-size: 12px;
      color: #666;
    }
    .login-hint span { color: #ffcc00; }

    /* â”€â”€ Divider â”€â”€ */
    .divider {
      border: none;
      border-top: 1px solid #273746;
      margin: 22px 0;
    }

    /* â”€â”€ Loading spinner â”€â”€ */
    .spinner {
      display: none;
      justify-content: center;
      margin-top: 14px;
    }
    .spinner.show { display: flex; }
    .spinner div {
      width: 10px; height: 10px;
      background: #ffcc00;
      border-radius: 50%;
      margin: 0 4px;
      animation: bounce 0.6s infinite alternate;
    }
    .spinner div:nth-child(2) { animation-delay: 0.2s; }
    .spinner div:nth-child(3) { animation-delay: 0.4s; }
    @keyframes bounce {
      from { transform: translateY(0); opacity: 0.5; }
      to   { transform: translateY(-10px); opacity: 1; }
    }
  </style>
</head>
<body>

  <!-- Top Bar -->
  <div class="topbar">
    <h1>ðŸ’§ Water Monitoring System</h1>
    <div class="clock" id="clock"></div>
  </div>

  <!-- Login Card -->
  <div class="login-wrapper">
    <div class="login-card">
      <div class="login-icon">ðŸ”’</div>
      <h2>Welcome Back</h2>
      <p class="subtitle">Sign in to access the dashboard</p>

      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Enter your username" autocomplete="username" />

      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Enter your password" autocomplete="current-password" />

      <button class="btn-login" onclick="handleLogin()">Sign In</button>

      <div class="login-error" id="loginError">âš  Invalid username or password. Please try again.</div>

      <div class="spinner" id="spinner">
        <div></div><div></div><div></div>
      </div>

      <hr class="divider"/>
      <p class="login-hint">Default credentials â€” user: <span>admin</span> / pass: <span>admin123</span></p>
    </div>
  </div>

  <script>
    // â”€â”€ Clock â”€â”€
    function updateClock() {
      const now = new Date();
      document.getElementById("clock").innerText =
        now.toLocaleDateString() + "  " + now.toLocaleTimeString();
    }
    setInterval(updateClock, 1000);
    updateClock();

    // â”€â”€ Demo credentials (replace with real auth as needed) â”€â”€
    const USERS = {
      "admin": "admin123",
      "user":  "water2024"
    };

    function handleLogin() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value;
      const errorEl  = document.getElementById("loginError");
      const spinner  = document.getElementById("spinner");

      errorEl.classList.remove("show");

      if (!username || !password) {
        errorEl.textContent = "âš  Please enter both username and password.";
        errorEl.classList.add("show");
        return;
      }

      // Show spinner
      spinner.classList.add("show");

      setTimeout(function() {
        spinner.classList.remove("show");

        if (USERS[username] && USERS[username] === password) {
          // Store session and redirect
          sessionStorage.setItem("loggedIn", "true");
          sessionStorage.setItem("username", username);
          window.location.href = "index.html";
        } else {
          errorEl.textContent = "âš  Invalid username or password. Please try again.";
          errorEl.classList.add("show");
          document.getElementById("password").value = "";
        }
      }, 800);
    }

    // Allow Enter key to submit
    document.addEventListener("keydown", function(e) {
      if (e.key === "Enter") handleLogin();
    });

    // If already logged in, skip login
    if (sessionStorage.getItem("loggedIn") === "true") {
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
